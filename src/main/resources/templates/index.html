<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>AtoZect - Home</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div class="container">

    <h1>AtoZect에 오신 것을 환영합니다!</h1>
    <p class="subtitle">프로젝트의 시작과 끝, A to Zect</p>

    <hr>

    <div th:if="${session.loginMember == null}">
        <div style="margin-bottom: 30px;">
            <p>로그인하고 팀원을 찾아보세요.</p>
            <a href="/members/login" class="btn btn-primary">로그인</a>
            <a href="/members/signup" class="btn btn-secondary">회원가입</a>
        </div>
    </div>

    <div th:if="${session.loginMember != null}">
        <h2 style="text-align: center; border: none; margin-top: 0;">
            반갑습니다, <span th:text="${session.loginMember.name}" style="color: #007bff;">사용자</span>님!
        </h2>

        <div class="menu-grid">
            <button class="btn btn-outline btn-block" onclick="location.href='/projects/create'">➕ 프로젝트 생성</button>
            <button class="btn btn-outline btn-block" onclick="location.href='/projects/my'">📂 내 프로젝트</button>
            <button class="btn btn-outline btn-block" onclick="location.href='/members/mypage'">👤 내 정보</button>
        </div>

        <div style="margin-top: 15px; text-align: right;">
            <a href="/members/logout" style="color: #dc3545; font-size: 14px; font-weight: bold;">로그아웃</a>
        </div>
    </div>


    <div class="project-section">
        <h3>📋 실시간 프로젝트 목록</h3>

        <table>
            <thead>
            <tr>
                <th style="width: 10%">ID</th>
                <th style="width: 60%">제목</th>
                <th style="width: 30%">기능</th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${projects == null || projects.isEmpty()}">
                <td colspan="3" class="empty-message">
                    등록된 프로젝트가 없습니다.
                </td>
            </tr>

            <tr th:each="project : ${projects}">
                <td style="text-align: center;" th:text="${project.id}">1</td>
                <td>
                    <a th:href="@{/projects/{id}(id=${project.id})}"
                       style="font-weight: bold; color: #333;"
                       th:text="${project.title}">제목</a>
                    <br>
                    <span style="font-size: 13px; color: #888;"
                          th:text="${#strings.abbreviate(project.description, 30)}">설명...</span>
                </td>
                <td style="text-align: center;">
                    <button class="btn btn-outline"
                            style="padding: 6px 12px; font-size: 13px;"
                            th:onclick="|location.href='@{/projects/{id}(id=${project.id})}'|">
                        상세보기
                    </button>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="text-right" style="margin-top: 15px;">
            <a href="/projects" style="color: #666; font-size: 14px;">전체 목록 더보기 ></a>
        </div>
    </div>

</div>

</body>
</html>