<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>AtoZect - Home</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <style>
        /* 1. ìƒë‹¨ í—¤ë” (ë¡œê³  + ë¡œê·¸ì¸ ë²„íŠ¼) */
        .header-nav {
            display: flex;
            justify-content: space-between; /* ì–‘ ë ì •ë ¬ */
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .brand-logo {
            font-size: 24px;
            font-weight: 800;
            color: #007bff;
            text-decoration: none;
        }
        .auth-links a {
            margin-left: 15px;
            font-size: 14px;
            font-weight: 600;
            color: #555;
        }
        .auth-links a:hover { color: #007bff; }

        /* 2. í”„ë¡œì íŠ¸ ì¹´ë“œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
        .project-grid {
            display: grid;
            /* ì¹´ë“œì˜ ìµœì†Œ ë„ˆë¹„ë¥¼ 250pxë¡œ ì„¤ì •, í™”ë©´ í¬ê¸°ì— ë”°ë¼ ìë™ ë‚˜ì—´ */
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px; /* ì¹´ë“œ ì‚¬ì´ ê°„ê²© */
            margin-top: 20px;
        }

        /* ê°œë³„ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .project-card {
            background: white;
            border: 1px solid #e1e4e8;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            display: flex;
            flex-direction: column;
            height: 100%; /* ë†’ì´ ë§ì¶¤ */
            text-decoration: none; /* ë§í¬ ë°‘ì¤„ ì œê±° */
            color: inherit;
        }

        /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ íš¨ê³¼ */
        .project-card:hover {
            transform: translateY(-5px); /* ì‚´ì§ ìœ„ë¡œ ëœ¸ */
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
            border-color: #007bff;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            display: block;
        }

        .card-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
            flex-grow: 1; /* ë‚´ìš©ì´ ì§§ì•„ë„ í•˜ë‹¨ ì—¬ë°± ì±„ìš°ê¸° */
            margin-bottom: 15px;
        }

        .card-footer {
            margin-top: auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #999;
        }

        .badge-status {
            background-color: #eef2ff;
            color: #4f46e5;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
        }
    </style>
</head>
<body>

<div class="container">

    <div class="header-nav">
        <a href="/" class="brand-logo">AtoZect</a>

        <div class="auth-links">
            <span th:if="${session.loginMember == null}">
                <a href="/members/login">ë¡œê·¸ì¸</a>
                <a href="/members/signup" class="btn btn-primary" style="color:white; padding: 8px 15px; border-radius: 20px;">íšŒì›ê°€ì…</a>
            </span>

            <span th:if="${session.loginMember != null}">
                <span style="margin-right: 10px; color: #333;">
                    ğŸ‘‹ <strong th:text="${session.loginMember.name}">ì‚¬ìš©ì</strong>ë‹˜
                </span>
                <a href="/members/mypage">ë‚´ ì •ë³´</a>
                <a href="/members/logout" style="color: #dc3545;">ë¡œê·¸ì•„ì›ƒ</a>
            </span>
        </div>
    </div>


    <div style="text-align: center; margin-bottom: 40px;">
        <h1>í”„ë¡œì íŠ¸ì˜ ì‹œì‘ê³¼ ë</h1>
        <p class="subtitle">íŒ€ì›ì„ ì°¾ê³ , ì•„ì´ë””ì–´ë¥¼ ì‹¤í˜„í•˜ì„¸ìš”.</p>

        <div th:if="${session.loginMember != null}" class="menu-grid" style="max-width: 600px; margin: 0 auto;">
            <button class="btn btn-outline" onclick="location.href='/projects/create'">â• í”„ë¡œì íŠ¸ ìƒì„±</button>
            <button class="btn btn-outline" onclick="location.href='/projects/my'">ğŸ“‚ ë‚´ í”„ë¡œì íŠ¸</button>
        </div>
    </div>

    <div class="project-section" style="border-top: none;"> <div style="display: flex; justify-content: space-between; align-items: end; margin-bottom: 15px;">
        <h3 style="margin: 0; border: none; padding: 0;">ğŸ“‹ ìµœì‹  í”„ë¡œì íŠ¸</h3>
        <a href="/projects" style="font-size: 14px; color: #666;">ì „ì²´ë³´ê¸° ></a>
    </div>

        <div class="project-grid">

            <div th:if="${projects == null || projects.isEmpty()}"
                 style="grid-column: 1 / -1; text-align: center; padding: 40px; background: #f9f9f9; border-radius: 10px; color: #888;">
                ì•„ì§ ë“±ë¡ëœ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ë³´ì„¸ìš”!
            </div>

            <a th:each="project : ${projects}"
               th:href="@{/projects/{id}(id=${project.id})}"
               class="project-card">

                <span class="card-title" th:text="${project.title}">í”„ë¡œì íŠ¸ ì œëª©</span>

                <p class="card-desc"
                   th:text="${#strings.abbreviate(project.description, 50)}">
                    í”„ë¡œì íŠ¸ ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤...
                </p>

                <div class="card-footer">
                    <span class="badge-status">ëª¨ì§‘ì¤‘</span>
                    <span>ìƒì„¸ë³´ê¸° â†’</span>
                </div>
            </a>

        </div>
    </div>

</div>

</body>
</html>