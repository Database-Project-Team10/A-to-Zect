<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì‹ ì²­ì ê´€ë¦¬</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .applicant-card {
            background: white;
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .applicant-info { display: flex; flex-direction: column; }
        .applicant-name { font-weight: bold; font-size: 16px; color: #333; }
        .applicant-email { font-size: 14px; color: #888; }
        .action-buttons { display: flex; gap: 10px; }
    </style>
</head>
<body>

<div class="container" style="max-width: 700px;">

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h1>ğŸ‘¥ ì‹ ì²­ì ê´€ë¦¬</h1>
        <a th:href="@{/projects/{id}(id=${project.id})}" class="btn btn-outline">â† ìƒì„¸ë¡œ</a>
    </div>

    <p class="subtitle">
        <span style="font-weight: bold;" th:text="${project.title}">í”„ë¡œì íŠ¸ëª…</span>ì˜ ì°¸ê°€ ì‹ ì²­ ë‚´ì—­ì…ë‹ˆë‹¤.
        <br>
        (í˜„ì¬ ì¸ì›: <span th:text="${project.currentCount}">1</span> / <span th:text="${project.maxCount}">4</span> ëª…)
    </p>

    <hr>

    <div th:if="${param.error}" class="error-msg" th:text="${param.error}"></div>

    <div th:if="${applicants == null || applicants.isEmpty()}" class="empty-message" style="padding: 50px;">
        í˜„ì¬ ëŒ€ê¸° ì¤‘ì¸ ì‹ ì²­ìê°€ ì—†ìŠµë‹ˆë‹¤.
    </div>

    <div th:each="member : ${applicants}" class="applicant-card">

        <div class="applicant-info">
            <span class="applicant-name" th:text="${member.name}">í™ê¸¸ë™</span>
            <span class="applicant-email" th:text="${member.email}">test@example.com</span>
        </div>

        <div class="action-buttons">
            <form th:action="@{|/projects/${project.id}/participants/${member.id}/accept|}" method="post">
                <button type="submit" class="btn btn-primary" style="padding: 8px 15px; font-size: 13px;"
                        onclick="return confirm('ì´ íšŒì›ì„ íŒ€ì›ìœ¼ë¡œ ìˆ˜ë½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                    ìˆ˜ë½
                </button>
            </form>

            <form th:action="@{|/projects/${project.id}/participants/${member.id}/reject|}" method="post">
                <button type="submit" class="btn btn-danger" style="padding: 8px 15px; font-size: 13px;"
                        onclick="return confirm('ì •ë§ ê±°ì ˆí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                    ê±°ì ˆ
                </button>
            </form>
        </div>
    </div>

</div>
<script th:inline="javascript" th:if="${param.error}">
    alert([[${param.error}]]);
</script>
</body>
</html>